
> indx-ai@0.1.0 dev
> next dev

 âš  Port 3000 is in use by process 21584, using available port 3009 instead.
   â–² Next.js 15.5.12
   - Local:        http://localhost:3009
   - Network:      http://26.18.1.120:3009
   - Environments: .env.local

 âœ“ Starting...
 âœ“ Ready in 2.1s
 â—‹ Compiling /api/yahoo-fund-info ...
 âœ“ Compiled /api/yahoo-fund-info in 719ms (313 modules)
[yahoo-fund-info] ðŸ” Getting Yahoo auth for: SPY
[yahooAuth] ðŸ”„ Fetching new crumb from Yahoo Finance...
[yahooAuth] ðŸ“¡ Trying Basic strategy (fc.yahoo.com)...
[yahooAuth]    â†’ Fetching cookies from fc.yahoo.com...
[yahooAuth] âš ï¸  Basic strategy failed: fc.yahoo.com returned 404
[yahooAuth] âš ï¸  Error stack: Error: fc.yahoo.com returned 404
    at fetchBasicAuth (webpack-internal:///(rsc)/./src/lib/yahooAuth.ts:153:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    
[yahooAuth] ðŸ“¡ Trying CSRF fallback strategy (guce.yahoo.com)...
[yahooAuth]    â†’ Fetching consent form from guce.yahoo.com...
[yahooAuth]    âœ“ CSRF Token: 1OVVF0QEe2Egzwwi9CkI...
[yahooAuth]    âœ“ Session ID: 3_cc-session_47bf9b8d-555e-4ff8-92c0-057629a1bfe7
[yahooAuth]    â†’ Submitting consent form...
[yahooAuth]    âœ“ Consent submitted
[yahooAuth]    â†’ Copying consent...
[yahooAuth] âŒ CSRF strategy also failed: No cookies received after CSRF consent flow
[yahooAuth] âŒ Error stack: Error: No cookies received after CSRF consent flow
    at fetchCSRFAuth (webpack-internal:///(rsc)/./src/lib/yahooAuth.ts:244:15)
    at process.processTicksAndRejections (node:internal/process/task_q
[yahooAuth] ðŸ’¥ All authentication strategies failed
[yahoo-fund-info] ðŸ’¥ Error fetching fund info: Error: Failed to get Yahoo authentication: No cookies received after CSRF consent flow
    at getYahooAuth (src\lib\yahooAuth.ts:177:11)
    at async GET (src\app\api\yahoo-fund-info\route.ts:32:22)
  175 |     // Both strategies failed
  176 |     console.error('[yahooAuth] ðŸ’¥ All authentication strategies failed');
> 177 |     throw new Error(`Failed to get Yahoo authentication: ${lastError?.message || 'Unknown error'}`);
      |           ^
  178 | }
  179 |
  180 | /**
[yahoo-fund-info] Error details: {
  message: 'Failed to get Yahoo authentication: No cookies received after CSRF consent flow',
  stack: 'Error: Failed to get Yahoo authentication: No cookies received after CSRF consent flow\n' +
    '    at getYahooAuth (webpack-internal:///(rsc)/./src/lib/yahooAuth.ts:140:11)\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async GET (webpack-internal:///(rsc)/./src/app/api/yahoo-fund-info/route.ts:36:22)\n' +
    '    at async AppRouteRouteModule.do (C:\\Users\\Perez\\Documents\\antigravity\\Indx.ai\\node_modules\\next\\dist\\compiled\\next-server\\app-route.runtime.dev.js:5:38696)\n' +
    '    at async AppRouteRouteModule.handle (C:\\Users\\Perez\\Documents\\antigravity\\Indx.ai\\node_modules\\next\\dist\\compiled\\next-server\\app-route.runtime.dev.js:5:45978)\n' +
    '    at async responseGenerator (webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fyahoo-fund-info%2Froute&page=%2Fapi%2Fyahoo-fund-info%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fyahoo-fund-info%2Froute.ts&appDir=C%3A%5CUsers%5CPerez%5CDocuments%5Cantigravity%5CIndx.ai%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CPerez%5CDocuments%5Cantigravity%5CIndx.ai&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D&isGlobalNotFoundEnabled=!:203:38)\n' +
    '    at async AppRouteRouteModule.handleResponse (C:\\Users\\Perez\\Documents\\antigravity\\Indx.ai\\node_modules\\next\\dist\\compiled\\next-server\\app-route.runtime.dev.js:1:195179)\n' +
    '    at async handleResponse (webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fyahoo-fund-info%2Froute&page=%2Fapi%2Fyahoo-fund-info%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fyahoo-fund-info%2Froute.ts&appDir=C%3A%5CUsers%5CPerez%5CDocuments%5Cantigravity%5CIndx.ai%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CPerez%5CDocuments%5Cantigravity%5CIndx.ai&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D&isGlobalNotFoundEnabled=!:265:32)\n' +
    '    at async handler (webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fyahoo-fund-info%2Froute&page=%2Fapi%2Fyahoo-fund-info%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fyahoo-fund-info%2Froute.ts&appDir=C%3A%5CUsers%5CPerez%5CDocuments%5Cantigravity%5CIndx.ai%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CPerez%5CDocuments%5Cantigravity%5CIndx.ai&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D&isGlobalNotFoundEnabled=!:317:13)\n' +
    '    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\Perez\\Documents\\antigravity\\Indx.ai\\node_modules\\next\\dist\\server\\base-server.js:1422:9)\n' +
    '    at async DevServer.renderPageComponent (C:\\Users\\Perez\\Documents\\antigravity\\Indx.ai\\node_modules\\next\\dist\\server\\base-server.js:1474:24)\n' +
    '    at async DevServer.renderToResponseImpl (C:\\Users\\Perez\\Documents\\antigravity\\Indx.ai\\node_modules\\next\\dist\\server\\base-server.js:1514:32)\n' +
    '    at async DevServer.pipeImpl (C:\\Users\\Perez\\Documents\\antigravity\\Indx.ai\\node_modules\\next\\dist\\server\\base-server.js:1025:25)\n' +
    '    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\Perez\\Documents\\antigravity\\Indx.ai\\node_modules\\next\\dist\\server\\next-server.js:393:17)\n' +
    '    at async DevServer.handleRequestImpl (C:\\Users\\Perez\\Documents\\antigravity\\Indx.ai\\node_modules\\next\\dist\\server\\base-server.js:916:17)\n' +
    '    at async C:\\Users\\Perez\\Documents\\antigravity\\Indx.ai\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:400:20\n' +
    '    at async Span.traceAsyncFn (C:\\Users\\Perez\\Documents\\antigravity\\Indx.ai\\node_modules\\next\\dist\\trace\\trace.js:157:20)\n' +
    '    at async DevServer.handleRequest (C:\\Users\\Perez\\Documents\\antigravity\\Indx.ai\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:396:24)\n' +
    '    at async invokeRender (C:\\Users\\Perez\\Documents\\antigravity\\Indx.ai\\node_modules\\next\\dist\\server\\lib\\router-server.js:240:21)\n' +
    '    at async handleRequest (C:\\Users\\Perez\\Documents\\antigravity\\Indx.ai\\node_modules\\next\\dist\\server\\lib\\router-server.js:437:24)\n' +
    '    at async requestHandlerImpl (C:\\Users\\Perez\\Documents\\antigravity\\Indx.ai\\node_modules\\next\\dist\\server\\lib\\router-server.js:485:13)\n' +
    '    at async Server.requestListener (C:\\Users\\Perez\\Documents\\antigravity\\Indx.ai\\node_modules\\next\\dist\\server\\lib\\start-server.js:226:13)'
}
 GET /api/yahoo-fund-info?symbol=SPY 500 in 2463ms
 âœ“ Compiled in 161ms (118 modules)
 âœ“ Compiled in 32ms
 âœ“ Compiled in 573ms (195 modules)
 âœ“ Compiled in 668ms (195 modules)
 âœ“ Compiled in 425ms (195 modules)
   Reload env: .env.local
 âœ“ Compiled in 334ms (195 modules)
